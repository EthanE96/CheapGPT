<!-- Window -->
<div class="flex h-full w-full overflow-hidden">
  <!-- Left Sidebar -->
  <app-drawer
    *ngIf="isDrawerOpen"
    [(selectedChat)]="selectedChat"
    [(isDrawerOpen)]="isDrawerOpen"
    [(newMessage)]="newMessage"
    class="flex flex-shrink-0 overflow-x-hidden max-md:!w-0 w-72"
  ></app-drawer>
  <!-- Right Sidebar -->
  <div class="flex-1 flex flex-col h-screen w-full">
    <!-- Header -->
    <div class="navbar">
      <div class="flex-1">
        <ng-container *ngIf="!isDrawerOpen">
          <button class="btn btn-square btn-ghost" (click)="onDrawerChange()">
            <i-lucide [img]="PanelLeftOpen" class="w-5 h-5"></i-lucide>
          </button>
        </ng-container>

        <div class="flex flex-row items-center gap-3 btn btn-ghost">
          <img class="w-8 h-8" [src]="logo" alt="CheapGPT Logo" />
          <h1 class="text-2xl font-bold">CheapGPT</h1>
        </div>
      </div>
      <div class="flex-none">
        <button class="btn btn-square btn-ghost" (click)="onThemeToggle()">
          <i-lucide [img]="imgTheme" class="w-5 h-5"></i-lucide>
        </button>
      </div>
      <div class="flex-none dropdown dropdown-end">
        <div tabindex="0" role="button" class="btn btn-ghost rounded-btn">
          <i-lucide [img]="Settings" class="w-5 h-5"></i-lucide>
        </div>
        <ul
          tabindex="0"
          class="menu dropdown-content bg-base-200 rounded-box z-[1] mt-4 w-48 p-2 shadow"
        >
          <app-llm-model-settings></app-llm-model-settings>

          <li>
            <a (click)="onLogout()"> Logout </a>
          </li>
        </ul>
      </div>
    </div>

    <!-- Main Content -->
    <div class="grow">
      <app-chat
        [chat]="selectedChat"
        (newMessage)="onNewMessage($event)"
      ></app-chat>
    </div>

    <!-- Footer -->
    <div class="min-h-3 text-center text-sm pb-2"><p>CheapGPT Â© 2024</p></div>
  </div>
</div>
